{% extends 'base.html' %}
{% load static %}

{% block content %}
<!-- Hero Section -->
<section class="hero bg-success text-white text-center py-5 hero-section">
    <div class="container">
        <img src="{% static 'images/logo.png' %}" alt="Agri-Match Logo" width="150" class="mb-3">
        <h1 class="display-4 font-weight-bold">Welcome to Agri-Match</h1>
        <p class="lead">Empowering farmers and operators with innovative solutions for agricultural success.</p>
        <a class="btn btn-light btn-lg mt-3 shadow" href="{% url 'create_machinery_listing' %}">Create Your Listing</a>
    </div>
</section>

<!-- Carousel Section -->
<section id="heroCarousel" class="carousel slide mt-5" data-bs-ride="carousel">
    <div class="carousel-indicators">
        <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="0" class="active" aria-label="Slide 1"></button>
        <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="1" aria-label="Slide 2"></button>
        <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="2" aria-label="Slide 3"></button>
    </div>
    <div class="carousel-inner">
        <div class="carousel-item active">
            <img src="{% static 'images/carousel1.jpg' %}" class="d-block w-100" alt="Revolutionizing Farming">
            <div class="carousel-caption">
                <h5 class="text-shadow">Revolutionizing Farming</h5>
                <p>Explore a variety of agricultural solutions to grow your farm.</p>
            </div>
        </div>
        <div class="carousel-item">
            <img src="{% static 'images/carousel2.jpg' %}" class="d-block w-100" alt="Skilled Operators On Demand">
            <div class="carousel-caption">
                <h5 class="text-shadow">Skilled Operators On Demand</h5>
                <p>Hire experts to maximize your productivity.</p>
            </div>
        </div>
        <div class="carousel-item">
            <img src="{% static 'images/carousel3.jpg' %}" class="d-block w-100" alt="Collaborating for Success">
            <div class="carousel-caption">
                <h5 class="text-shadow">Collaborating for Success</h5>
                <p>Join a network of farmers and service providers working together.</p>
            </div>
        </div>
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#heroCarousel" data-bs-slide="prev" aria-label="Previous Slide">
        <span class="carousel-control-prev-icon"></span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#heroCarousel" data-bs-slide="next" aria-label="Next Slide">
        <span class="carousel-control-next-icon"></span>
    </button>
</section>

<!-- Featured Listings Section -->
<section class="featured-listings py-5 bg-light">
    <div class="container text-center">
        <h2 class="mb-5">Featured Listings</h2>
        <div class="row">
            {% for listing in listings|slice:":3" %}
                <div class="col-lg-4 col-md-6 mb-4">
                    <div class="card shadow-sm border-0">
                        {% if listing.image %}
                            <img src="{{ listing.image.url }}" class="card-img-top" alt="{{ listing.title }}">
                        {% else %}
                            <img src="{% static 'images/default_image.png' %}" class="card-img-top" alt="{{ listing.title }}">
                        {% endif %}
                        <div class="card-body">
                            <h5 class="card-title">{{ listing.title }}</h5>
                            <p class="card-text text-truncate">{{ listing.description|truncatewords:15 }}</p>
                            <p class="card-text"><strong>KSh {{ listing.price }}</strong></p>
                            <a href="{% url 'machinery_listing_detail' listing.id %}" class="btn btn-primary btn-sm">View Details</a>
                        </div>
                    </div>
                </div>
            {% empty %}
                <p class="text-muted">No listings available right now. Check back later!</p>
            {% endfor %}
        </div>
    </div>
</section>


<!-- How it Works Section -->
<section class="how-it-works py-5 text-center">
    <div class="container">
        <h2 class="mb-5">How It Works</h2>
        <div class="row">
            <div class="col-lg-4">
                <div class="card shadow-sm border-0">
                    <div class="card-body">
                        <h5>Create Your Listing</h5>
                        <p>Post your machinery or operator services to reach a wider audience.</p>
                    </div>
                </div>
            </div>
            <div class="col-lg-4">
                <div class="card shadow-sm border-0">
                    <div class="card-body">
                        <h5>Browse Listings</h5>
                        <p>Find the tools or services you need with ease.</p>
                    </div>
                </div>
            </div>
            <div class="col-lg-4">
                <div class="card shadow-sm border-0">
                    <div class="card-body">
                        <h5>Rent or Hire</h5>
                        <p>Get the equipment or expertise to achieve your goals.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Testimonials Section -->
<section class="testimonials py-5 bg-dark text-white text-center">
    <div class="container">
        <h2 class="mb-5">What Our Users Say</h2>
        <div class="row">
            <div class="col-lg-4">
                <div class="card bg-light text-dark shadow-sm">
                    <div class="card-body">
                        <p>"Agri-Match helped me find the perfect tractor. Highly recommended!"</p>
                        <footer class="blockquote-footer">Samuel Karanja</footer>
                    </div>
                </div>
            </div>
            <div class="col-lg-4">
                <div class="card bg-light text-dark shadow-sm">
                    <div class="card-body">
                        <p>"The platform made it easy to hire skilled operators. My farm is thriving!"</p>
                        <footer class="blockquote-footer">Cynthia Murugi</footer>
                    </div>
                </div>
            </div>
            <div class="col-lg-4">
                <div class="card bg-light text-dark shadow-sm">
                    <div class="card-body">
                        <p>"A game changer for connecting farmers with vital services."</p>
                        <footer class="blockquote-footer">Johnson Kamau</footer>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}
